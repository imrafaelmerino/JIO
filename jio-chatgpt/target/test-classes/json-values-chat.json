[
  {
    "role": "system",
    "content": "You are a Java developer!"
  },

  {
    "role": "assistant",
    "content": "Yes, I am familiar with Java development."
  },

  {
    "role": "user",
    "content": "Before asking you to code anything, I'll present some essential concepts in json-values."
  },

  {
    "role": "assistant",
    "content": "Certainly! I'm familiar with JSON and its usage in Java. Please go ahead and present the essential concepts in json-values, and I'll be happy to assist you with any questions or coding tasks related to it."
  },

  {
    "role": "user",
    "content": "The following is the hierarchical class structure of json-values:\n\n. JsValue\n  . JsPrimitive\n    . JsStr\n    . JsInt\n    . JsDouble\n    . JsLong\n    . JsBigInt\n    . JsBigDec\n    . JsInstant\n    . JsBool\n      . JsBool.TRUE (singleton instance)\n      . JsBool.FALSE (singleton instance)\n    .JsNull\n      . JsNull.NULL (singleton instance)\n  . Json\n    . JsObj\n    . JsArray"
  },

  {
    "role": "assistant",
    "content": "Thank you for providing the class hierarchy of json-values. It appears that the library defines a set of classes to represent JSON values and structures. This class hierarchy allows you to work with different JSON value types and structures using the json-values library. Let me know if you have any further questions or if there's anything specific you'd like to achieve with this library."
  },

  {
    "role": "user",
    "content": "Now, I'll explain how to create instances of JsValue. Each subtype of JsValue provides a static factory method called `of`:\n\n- To create JSON objects, you can use the `of` method and pass up to twenty key-value pairs. For example:\n    `JsObj.of(\"age\", JsInt.of(10), \"name\", JsStr.of(\"Rafael\"))`\n\n- To create JSON arrays, you can use the `of` method and include as many JsValue instances as desired. For example:\n    `JsArray.of(JsStr.of(\"a\"), JsInt.of(1))`\n\n- To create primitive types (string, int, long, BigInteger, BigDecimal, double, boolean, Instant), simply pass the value directly to the `of` method. For example:\n    `JsStr.of(\"a\")`, `JsInt.of(2)`, `JsInstant.of(Instant.now())`, `JsBigDec.of(BigDecimal.TEN)` and so on ."
  },

  {
    "role": "assistant",
    "content": "Thank you for providing the instructions on creating JsValue instances using the static factory method `of`. By using these factory methods, you can easily create instances of different `JsValue` subtypes to represent JSON data. Let me know if you have any further questions or if there's anything specific you'd like me to demonstrate using the json-values library."
  },

  {
    "role": "user",
      "content": "It's time to teach you how to create JSON validations using json-values and json-specs. I'll provide examples of JSON \nspecifications and their corresponding implementations in the following format:\n\nSpecification {{n}}\n\"\"\"\n{{Specification}}\n\"\"\"\n\nSpec {{n}}\n```\n{{spec}}\n```\n\nUse the `JsObjSpec.of` static method to create a JSON validation specification\nby providing a list of key-spec pairs. A spec is represented by the `JsSpec` class and\ncan be either another `JsObjSpec` or one of the static methods from the `JsSpecs`\nclass. These methods include `str()`, `obj()`, `number()`, `integer()`, `longInteger()`,\n`bigInteger()`, `instant()`, `bool()`, `decimal()`, and `binary()`. A `JsSpec` doesn't\nallow null by default. To allow null as a valid value you can use the method `nullable()`\nof the class `JsSpec`\n\ndescription 1\n\"\"\"\nUsing json-values, create a JSON spec to validate a JSON object with the following fields:\n . `name` is a nullable string\n . `age` is an integer number\n . `is_vip` is a boolean\n . `birthdate` is a nullable date\n\n\"\"\"\n\nspec 1\n```\nJsObjSpec spec1 =  JsObjSpec.of(\"name\",JsSpecs.str().nullable(),\n                                \"age\",JsSpecs.integer(),\n                                \"is_vip\",JsSpecs.bool(),\n                                \"birthdate\",JsSpecs.instant().nullable()\n                                );\n```\n\ndescription 2\n\"\"\"\nUsing json-values, create a JSON spec to validate a JSON object with the following fields:\n . `photo` is an array of bytes\n . `counter` is an long integer number\n . `grade` is a nullable decimal number\n\n\"\"\"\n\nspec 2\n```\nJsObjSpec spec2 =  JsObjSpec.of(\"photo\",JsSpecs.binary(),\n                                \"counter\",JsSpecs.longInteger(),\n                                \"grade\",JsSpecs.decimal().nullable()\n                                );\n```\n\n\nAnother essential aspect is that to ensure that each element of a JSON meet certain\nvalidation requirements, you can use Java predicates and pass them in as arguments\nof the static methods of the class `JsSpecs` described above.\n\nFind below some examples where a specification is defined and a spec to meet that\nspecification is provided.\n\ndescription 3\n\"\"\"\nUsing json-values, create a JSON spec to validate a JSON object with the following fields:\n . `age` is a positive integer greater than zero\n . `name` is a none blank string of length between 3 and 50\n . `birthdate` is a date after the Linux Epoch time\n\"\"\"\n\nspec 3\n```\nJsObjSpec spec3 =  JsObjSpec.of(\"age\",JsSpecs.integer(n -> n > 0),\n                                \"name\",JsSpecs.str( s -> !s.isBlank() && s.length() < 50 && s.length() > 3),\n                                \"birthdate\",JsSpecs.instant(i -> i.isAfter(Instant.EPOCH))\n                                );\n```\n\njson-values allows you to tailor validation criteria to your needs.\n\nYou can also ensure that a value is an array and each element has the specified type. For example:\n. `JsSpecs.array()`:  ensures that the value is an array\n. `JsSpecs.arrayOfBigInt()`: ensures that the value is an array of big integers\n. `JsSpecs.arrayOfDec()`: ensures that the value is an array of big decimals\n. `JsSpecs.arrayOfInt()`: ensures that the value is an array of integers\n. `JsSpecs.arrayOfLong()`: ensures that the value is an array of long numbers\n. `JsSpecs.arrayOfNumber()`: ensures that the value is an array of numbers\n. `JsSpecs.arrayOfObj()`: ensures that the value is an array of JSON objects\n. `JsSpecs.arrayOfStr()`: ensures that the value is an array of strings\n. `JsSpecs.arrayOfBool()`: ensures that the value is an array of booleans\n\nFind below some examples where a specification is defined and a spec to meet that\nspecification is provided.\n\ndescription 4\n\"\"\"\nUsing json-values, create a JSON spec to validate a JSON object with the following fields:\n . `fruits` is an array of string\n . `rating_stars` is an array of integer numbers\n . `grades` is an array of decimal numbers\n\n\"\"\"\n\nspec 4\n```\nJsObjSpec spec4 =  JsObjSpec.of(\"fruits\",JsSpecs.arrayOfStr(),\n                                \"rating_starts\",JsSpecs.arrayOfInt(),\n                                \"grades\",JsSpecs.arrayOfDec()\n                                );\n\n```\n\nYou can validate each array element by passing a predicate to the methods mentioned. You can also set the minimum and\nmaximum length of the array.\n\n description 5\n \"\"\"\n Using json-values, create a JSON spec to validate a JSON object with the following fields:\n  . `fruits` is an array of none empty strings. Length of the array between [1,10]\n  . `rating_stars` is an array of integer positive numbers\n  . `grades` is an array of positive decimal numbers\n\n \"\"\"\n\n spec 5\n ```\n JsObjSpec spec5 =  JsObjSpec.of(\"fruits\",JsSpecs.arrayOfStr((String s) -> !s.isEmpty(),1,10),\n                                 \"rating_starts\",JsSpecs.arrayOfInt((int n) -> n > 0),\n                                 \"grades\",JsSpecs.arrayOfDec((BigDecimal dec) -> dec.signum() > 0)\n                                 );\n\n ```\n\n\nYou can define the structure of each `JsObj` in a JSON object array by using the method\n`JsSpecs.arrayOfObjSpec(JsObjSpec)` for validation.\n\ndescription 6\n \"\"\"\n Using json-values, create a JSON spec to validate a JSON object with the following fields:\n  . `addresses` is an array of JSON object with the fields street and city (both a string)\n  . `phones` is an array of JSON object with the fields type and number (both a string)\n  . `data` is an array of JSON object which fields are unknown.\n \"\"\"\n\n spec 6\n ```\n JsObjSpec addressSpec = JsObjSpec.of(\"street\", JsSpecs.str(),\n                                      \"city\", JsSpecs.str()\n                                    );\n JsObjSpec phoneSpec = JsObjSpec.of(\"type\", JsSpecs.str(),\n                                    \"number\", JsSpecs.str()\n                                    );\n\n JsObjSpec spec6 =  JsObjSpec.of(\"addresses\", JsSpecs.arrayOfObjSpec(addressSpec),\n                                 \"phones\", JsSpecs.arrayOfObjSpec(phoneSpec),\n                                 \"data\", JsSpecs.arrayOfObj()\n                                );\n\n ```\n\nTuples are sequences of elements with varying types. They can be represented in JSON using\narrays. To create a specification for an n-tuple in JSON, use the\n`JsSpecs.tuple(spec1, spec2, ..., specN)` method.\n\ndescription 7\n \"\"\"\n Using json-values, create a JSON spec to validate a JSON object with the following fields:\n  . `coordinates` is a tuple of two decimal numbers.\n  . `name_age` is a tuple of two elements, a none-empty string and a positive number\n \"\"\"\n\n spec 7\n ```\n JsObjSpec spec7 = JsObjSpec.of(\"coordinates\",JsSpecs.tuple(JsSpecs.decimal(),\n                                                            JsSpecs.decimal()),\n                                \"name_age\",JsSpecs.tuple(JsSpec.str(s -> !s.empty()),\n                                                         JsSpecs.integer(n -> n > 0))\n                                );\n ```\n\nIn JSON, you can define map specs for JSON objects where all the values have the same type:\n`JsSpecs.mapOfArray()`, `JsSpecs.mapOfInteger()`, `JsSpecs.mapOfInt()`, `JsSpecs.mapOfLong()`,\n`JsSpecs.mapOfStr()`, `JsSpecs.mapOfObj()`, `JsSpecs.mapOfBool()`, `JsSpecs.mapOfInstant()`\nand `JsSpecs.mapOfDecimal()`.\n\n description 8\n  \"\"\"\n  Using json-values, create a JSON spec to validate a JSON object with the following fields:\n   . `vehicles` is a map of vehicles: the key is a string representing the make and the value is an integer representing the number of vehicles\n   . `birthdays` is a map of vehicles: the key is a string representing a person name and the value is a date representing their birthday\n  \"\"\"\n\n  spec 8\n  ```\n  JsObjSpec spec8 = JsObjSpec.of(\"coordinates\",JsSpecs.mapOfInteger(),\n                                 \"birthdays\",JsSpecs.mapOfInstant()\n                                 );\n  ```\n\njson-values offers useful specifications for:\n\n- Enumerations or enums: Use `JsSpecs.oneOf(List<JsValue>)` to ensure a value is contained within a specific set.\n- Constants: Use `JsSpecs.cons(JsValue value)` to enforce a constant value.\n- Any value: Use `JsSpecs.any()` to allow any value.\n- Condition-based values: Specify that a value must satisfy a given condition by providing a predicate to the `any` spec, such as `JsSpecs.any(Predicate<JsValue>)`.\n\n description 9\n  \"\"\"\n  Using json-values, create a JSON spec to validate a JSON object with the following fields:\n   . `sex` is an enum with two posible values: male or female\n   . `type` is a constant string: \"person\"\n   . `data` can be any value\n   . `creation_date` can be a string or a date\n  \"\"\"\n\n  spec 9\n  ```\n  JsObjSpec spec9 = JsObjSpec.of(\"sex\",JsSpecs.oneOf(List.of(JsStr.of(\"male\"), JsStr.of(\"female\"))),\n                                 \"type\",JsSpecs.cons(JsStr.of(\"person\")),\n                                 \"data\", JsSpecs.any(),\n                                 \"creation_date\",JsSpecs.any((JsValue value) -> value.isStr() || value.isInstant())\n                                 );\n  ```\n\nAll fields in a spec are required by default. If a field is not present in a JSON, the JSON\ndoes not conform to the spec. Optional fields can be specified using the withOptKeys(String... keys)\nmethod in the JsSpec class. If all fields are optional, the withAllOptKeys() method in the JsSpec\nclass can be used.\n\n description 10\n  \"\"\"\n  Using json-values, create a JSON spec to validate a JSON object with the following fields:\n   . `things`: optional array\n   . `image`:  optional and nullable binary\n   . `coordinates`: tuple of two decimals (latitude and longitude)\n\n  \"\"\"\n\n  spec 10\n  ```\n  long LAT_MIN = -90;\n  long LAT_MAX = 90;\n  long LON_MIN = -180;\n  long LON_MAX = 180;\n\n  BiFunction<Long, Long, Predicate<BigDecimal>> decBetween =\n        (min, max) -> n -> BigDecimal.valueOf(min).compareTo(n) < 0 &&\n                           BigDecimal.valueOf(max).compareTo(n) > 0;\n\n  Predicate<BigDecimal> latitudeSpec = decBetween.apply(LAT_MIN, LAT_MAX);\n\n  Predicate<BigDecimal> longitudeSpec = decBetween.apply(LON_MIN, LON_MAX);\n\n  JsObjSpec spec10 = JsObjSpec.of(\"things\",JsSpecs.array(),\n                                  \"image\",JsSpecs.binary().nullable(),\n                                  \"coordinates\", JsSpecs.tuple(JsSpecs.decimal(latitudeSpec),\n                                                               JsSpecs.decimal(longitudeSpec),\n                                                              ),\n                                 )\n                                 .withOptKeys(\"things\",\"image\");\n  ```\n\n\nWould you be capable of defining json-specs?"
  },

  {
    "role": "assistant",
    "content":"Yes, I can help you define JSON validation specs using json-values. Please go ahead\nand provide the descriptions for the specs you want to create, and I'll assist you\nin writing the corresponding specs."
  }

  ,

  {
    "role": "user",
    "content": "Write a `JsObjSpec`  for a JSON that represents a movie and a director. Consider at least 10 fields."
  }

  ,

  {
    "role": "assistant",
    "content": "        JsObjSpec movieSpec = JsObjSpec.of(\n                \"title\", str(s -> !s.isBlank() && s.length() <= 100),\n                \"releaseYear\", integer(n -> n >= 1900 && n <= 2023),\n                \"durationMinutes\", integer(n -> n > 0 && n <= 1000),\n                \"genre\", oneOf(List.of(JsStr.of(\"ACTION\"), JsStr.of(\"DRAMA\"), JsStr.of(\"COMEDY\"), JsStr.of(\"THRILLER\"))),\n                \"directors\", arrayOfObjSpec(\n                        JsObjSpec.of(\n                                \"name\", str(s -> !s.isBlank() && s.length() <= 100),\n                                \"birthYear\", integer(n -> n >= 1900 && n <= 2023),\n                                \"nationality\", str(s -> !s.isBlank() && s.length() <= 100)\n                                    )\n                                           ),\n                \"cast\", arrayOfStr(s -> !s.isBlank() && s.length() <= 100),\n                \"rating\", decimal(d -> d.signum() > 0 && d.compareTo(BigDecimal.TEN) <= 0),\n                \"awards\", arrayOfObjSpec(\n                        JsObjSpec.of(\n                                \"name\", str(s -> !s.isBlank() && s.length() <= 100),\n                                \"year\", integer(n -> n >= 1900 && n <= 2023)\n                                    )\n                                        ),\n                \"isReleased\", bool()\n                                          );\n\n        JsObj movieObj = JsObj.of(\n                \"title\", JsStr.of(\"The Shawshank Redemption\"),\n                \"releaseYear\", JsInt.of(1994),\n                \"durationMinutes\", JsInt.of(142),\n                \"genre\", JsStr.of(\"DRAMA\"),\n                \"directors\", JsArray.of(\n                        JsObj.of(\n                                \"name\", JsStr.of(\"Frank Darabont\"),\n                                \"birthYear\", JsInt.of(1959),\n                                \"nationality\", JsStr.of(\"American\")\n                                )\n                                       ),\n                \"cast\", JsArray.of(\n                        JsStr.of(\"Tim Robbins\"),\n                        JsStr.of(\"Morgan Freeman\")\n                                  ),\n                \"rating\", JsBigDec.of(BigDecimal.valueOf(9.3)),\n                \"awards\", JsArray.of(\n                        JsObj.of(\n                                \"name\", JsStr.of(\"Academy Award for Best Picture\"),\n                                \"year\", JsInt.of(1994)\n                                )\n                                    ),\n                \"isReleased\", JsBool.of(true)\n                                 );"
  }
]